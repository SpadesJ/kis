(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Liquidity"],{"36a2":function(t,e,c){},b799:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAuCAMAAABK1yqqAAABR1BMVEUAAAAXFCcXFCcXFCcXFCcXFCcXFCcXFCdQUF8XFCe1usIXFCcYFSjNzdMXFCfv8PPDxcsXFCcXFCcXFCcXFCcbGCu/xcwXFCcXFCcXFCcXFCff4+fs7fDj5uoXFCcXFCcXFCfFzNLh4+fa3uLq6+5QUF8XFCcXFCfU1doXFCfHztTw8vXEydDt7vLP0tjq7O+/w8lfYG4XFCdjZHKztr2amaPFzNLs7vHy8/bFy9Ld4eXV2d68w8m5v8bw8PTV2N3f4+e+xMuzucHd4OXr7PCjp7DX2N2an6iRlZ+KjpjS1tzs7fDj4+h2eISYnKbT1ttWV2VZWmjS09lISFfc3uLCxMs4N0jHx81fXWuurra5ucDIz9Xz9Pfh5Ojc4eXq7PDa3+Tx8vbZ3uPs7vLk5+vY3OHU2d7u8PPn6u7N09nW2+DR19zL0dfflMN3AAAAW3RSTlMAAgQIEEIqFmoh0jlOKQ2/KR4VJBoLzi0oRT7+wb81MRP10L+XZUk2Jxj96N7d07+bb1RPKBD59/Ht5+Tk29jWx8fEv7Oyqamej4aEd3VraF9bWEtFPTsyKyATJxZMKwAAAiFJREFUSMftlelvokAYhzuHdqmWOgOKd9VVqz223R573/d93zOAoFRt+/9/XmCg7Rc2zGaT/dIHCGSSJ7/J++YdFi6QAIT8hQa/bHWhtAngQXfiPChCIBv39d7YGpVaCMjFFV+ZNmOspKtQKu57xxmzQCQYSsShN9f5MQtFBcP0cft17jBBSaMIJiO6Fce9v2FZLKL9sF5vNFYCLte3Vx6HH+HT8K/t174ax/18Mp6zM8zZyD1mJ+aJa7MJm8zmzDtkVs1jljVirKZCIDz0aWN8yNJDi0B4XT6V8ZjoFoDqrTmTYVMUHSD8Y2/vQ+9SSnofv5FYJNlmNZOWarM8jLdKiVYuZ9NR1hQdo6g4KqZ0MS0UqyhuB4RIAnh+WoEEC/8V+a0K6WAwKCwXlgMK/l0oiPd+sBCtRkvBNfglZADR1sThNe5Ox5Zr1rjFbe5xfmRPue2ZpsO5aXOXz5yJ6/GRzfkGCk2AMB8xGXbEWEF1yGW0m+8IRqGIiYz46LNxKio7paU/0T7T2i8ra2U93qpuVPv5RHZ3N0+nfKkXeDgqTpEqRjOXSKZ/P9KuvehXV7VFNfCisdKJkoRm5K6Iot+9WsllSat47oxDqoqToMToHPna+vO8HzfEYqSE6avJIKoFiXfCOCri0hAUvWOuP81nVjVdxKUWybPbbys5Q6Fq+jjRrWxzTSpOAFCLaBoRcZJ/W0xbknFxtxAK4mT55yfUb2N4zDBWafwAAAAAAElFTkSuQmCC"},c31c:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAuCAMAAABK1yqqAAAAVFBMVEUAAAA1cUM5c0M6c0M6ckI5ckM5c0I5ckI5c0IzcUIwbkU5ckI5ckM5ckI5ckI5ckI5ckM5c0E5ckE4cEI1cEI1cj46c0I6ckI5c0I6c0I5dEI6c0N3ajJiAAAAG3RSTlMAIrvD7+fblH4RCfr1ya2NXU0+MiYd1NS8bWyJ4eMJAAAAj0lEQVRIx+3UNxLDMAADQSgwKicn/P+f7ihXmiEKFR5ev+2hdEurdQqLE9kIbntQgr6jAveBVOC7pwKPF6nAuWWqrS/zOAsjM0JqMZSgIzVo8pxNMFRZRZT+q1hlFRK0zMokyLycBs0CCY4BZ76+7HcqMzJqkqsPKLD/AAocdiiw84ACnxskOEUIObuidE9fvHUyodLllKIAAAAASUVORK5CYII="},c730:function(t,e,c){"use strict";c.r(e);c("a9e3"),c("b680");var o=c("7a23"),a=c("c31c"),n=c.n(a),l=c("b799"),r=c.n(l),i=Object(o["withScopeId"])("data-v-135c2931");Object(o["pushScopeId"])("data-v-135c2931");var s={class:"page"},d={class:"top-total flex-center"},u=Object(o["createTextVNode"])("USDT"),b={class:"top-btns flex-center"},p={class:"list flex-wrap"},A={class:"item"},j={key:0,class:"item-top flex-center"},O={key:0,src:n.a,alt:"",class:"icon-tra"},f={key:1,src:r.a,alt:"",class:"icon-tra"},g={key:1,class:"item-top flex-center"},k={class:"item-tit"},m={class:"item-info"},v=Object(o["createVNode"])("br",null,null,-1),h=Object(o["createVNode"])("br",null,null,-1),N={class:"item-lv text-between"};Object(o["popScopeId"])();var F=i((function(t,e,c,a,n,l){var r=Object(o["resolveComponent"])("index-top"),F=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createBlock"])("div",s,[Object(o["createVNode"])(r,{h1:"KISwap",h4:t.$t("index.最具潜力的集DEX、IKO、DAO、聚合交易为一体的DEFI生态平台")},null,8,["h4"]),Object(o["createVNode"])("div",d,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.$t("liquidity.锁定的总值")),1),Object(o["createVNode"])("span",null,[Object(o["createVNode"])("b",null,Object(o["toDisplayString"])(Number(t.poolTotalLock).toFixed(2)),1),u])]),Object(o["createVNode"])("div",b,[Object(o["createVNode"])("div",{class:["btn",{active:t.isLp}],onClick:e[1]||(e[1]=function(){return t.toggleLP&&t.toggleLP.apply(t,arguments)})},"KIS LP",2),Object(o["createVNode"])("div",{class:["btn",{active:!t.isLp}],onClick:e[2]||(e[2]=function(){return t.toggleLP&&t.toggleLP.apply(t,arguments)})},Object(o["toDisplayString"])(t.$t("liquidity.单币种")),3)]),Object(o["createVNode"])("div",p,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(t.poolPairList,(function(e){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])("div",A,[e.islp?(Object(o["openBlock"])(),Object(o["createBlock"])("div",j,[Object(o["createVNode"])("img",{src:t.$tokenLogo(e.tokenA),alt:"",class:"icon-logo"},null,8,["src"]),"light"===t.themeMode?(Object(o["openBlock"])(),Object(o["createBlock"])("img",O)):(Object(o["openBlock"])(),Object(o["createBlock"])("img",f)),Object(o["createVNode"])("img",{src:t.$tokenLogo(e.tokenB),alt:"",class:"icon-logo"},null,8,["src"])])):(Object(o["openBlock"])(),Object(o["createBlock"])("div",g,[Object(o["createVNode"])("img",{src:t.$tokenLogo(e.lpAddresses),alt:"",class:"icon-logo"},null,8,["src"])])),Object(o["createVNode"])("div",k,Object(o["toDisplayString"])(e.tokenSymbol),1),Object(o["createVNode"])("div",m,[Object(o["createVNode"])("p",null,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.$t("liquidity.每天赚取KIS")),1),v,Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.rate&&t.totalAllocPoint?Number(e.allocPoint*t.totalMintDay/t.totalAllocPoint).toFixed(4):0),1)]),Object(o["createVNode"])("p",null,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.$t("liquidity.每月赚取KIS")),1),h,Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.rate&&t.totalAllocPoint?Number(e.allocPoint*t.totalMintDay*30/t.totalAllocPoint).toFixed(4):0),1)]),Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(t.rate&&t.totalAllocPoint?Number(e.allocPoint*t.totalMint/t.totalAllocPoint/t.rate).toFixed(4):0)+"USDT",1)]),Object(o["createVNode"])("p",null,"totalAllocPoint："+Object(o["toDisplayString"])(t.totalAllocPoint),1),Object(o["createVNode"])("p",null,"rate："+Object(o["toDisplayString"])(t.rate),1),Object(o["createVNode"])("p",null,"item.allocPoint: "+Object(o["toDisplayString"])(e.allocPoint),1),Object(o["createVNode"])("p",null,"totalMint："+Object(o["toDisplayString"])(t.totalMint),1),Object(o["createVNode"])("p",null,"totalMintDay："+Object(o["toDisplayString"])(t.totalMintDay),1),Object(o["createVNode"])("div",N,[Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(t.$t("liquidity.年利率")),1),Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(t.rate&&t.totalAllocPoint?Number(e.allocPoint*t.totalMintDay*365/t.totalAllocPoint/28800/t.rate).toFixed(2):0)+"%",1)]),Object(o["createVNode"])(F,{class:"btn",to:{name:"LiquidityPool",params:{pid:e.pid}}},{default:i((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.$t("liquidity.选择")),1)]})),_:2},1032,["to"])],512)),[[o["vShow"],e.islp==t.isLp]])})),256))])])})),y=(c("4160"),c("159b"),c("5530")),x=(c("96cf"),c("1da1")),V=c("4187"),C=c("d8e1"),w=c("5502"),M=c("6092"),P=c("a93e"),S=c("722f"),D=c("01ea"),I={components:{IndexTop:V["a"]},setup:function(){var t=Object(w["b"])(),e=Object(o["reactive"])({themeMode:Object(o["computed"])((function(){return t.state.themeMode})),poolPairList:P["a"],rate:Object(o["computed"])((function(){return t.state.rate})),web3:Object(o["computed"])((function(){return t.state.provider})),poolTotalLock:0,totalAllocPoint:0,totalMintDay:0,totalMint:0,address:Object(o["computed"])((function(){return t.state.accounts[0]})),poolAddress:D["a"].poolAddress,isLp:!0,toggleLP:function(){e.isLp=!e.isLp},getPoolReward:function(){var t=new e.web3.eth.Contract(C,e.poolAddress);t.methods.totalAllocPoint().call().then((function(t){e.totalAllocPoint=t,console.log("totalAllocPoint",t)})),e.web3.eth.getBlockNumber().then((function(c){t.methods.getMdxBlockReward(c).call().then(function(){var o=Object(x["a"])(regeneratorRuntime.mark((function o(a){var n;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,t.methods.startBlock().call();case 2:n=o.sent,e.totalMint=(c-n)*a/Math.pow(10,18),e.totalMintDay=28800*a/Math.pow(10,18);case 5:case"end":return o.stop()}}),o)})));return function(t){return o.apply(this,arguments)}}())}))},getRate:function(){e.poolPairList.forEach(function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(c){var o,a,n,l,r,i,s,d,u,b,p;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!c.islp){t.next=10;break}return o=new e.web3.eth.Contract(M,D["a"].factoryAddress),t.next=4,o.methods.getReserves(c.tokenA,D["a"].usdtAddress).call();case 4:a=t.sent,n=new e.web3.eth.Contract(S,c.tokenA),l=new e.web3.eth.Contract(S,c.lpAddresses),o.methods.getReserves(c.tokenA,c.tokenB).call().then(function(){var t=Object(x["a"])(regeneratorRuntime.mark((function t(o){var r,i,s,d,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.methods.decimals().call();case 2:return r=t.sent,i=a.reserveB*Math.pow(10,r-10)/a.reserveA,s=o.reserveA/Math.pow(10,r)/i,c.usdt=2*s,t.next=8,l.methods.balanceOf(e.poolAddress).call();case 8:return d=t.sent,t.next=11,l.methods.totalSupply().call();case 11:u=t.sent,console.log(c.usdt),c.usdt=c.usdt*(d/u),e.poolTotalLock=e.poolTotalLock+c.usdt;case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=32;break;case 10:return r=new e.web3.eth.Contract(S,c.lpAddresses),t.next=13,r.methods.balanceOf(e.poolAddress).call();case 13:return i=t.sent,t.next=16,r.methods.decimals().call();case 16:return s=t.sent,d=new e.web3.eth.Contract(M,D["a"].factoryAddress),t.prev=18,t.next=21,d.methods.getReserves(c.lpAddresses,D["a"].usdtAddress).call();case 21:u=t.sent,b=u.reserveB*Math.pow(10,s-10)/u.reserveA,p=i/Math.pow(10,s)/b,c.usdt=p,t.next=31;break;case 27:t.prev=27,t.t0=t["catch"](18),console.log("blance----",i),c.usdt=i/Math.pow(10,s);case 31:e.poolTotalLock=e.poolTotalLock+c.usdt;case 32:case"end":return t.stop()}}),t,null,[[18,27]])})));return function(e){return t.apply(this,arguments)}}())}});e.address&&(e.getPoolReward(),e.getRate()),Object(o["watch"])((function(){return e.address}),(function(t){t&&(e.getPoolReward(),e.getRate())}));var c=Object(o["toRefs"])(e);return Object(y["a"])({},c)}};c("f334");I.render=F,I.__scopeId="data-v-135c2931";e["default"]=I},f334:function(t,e,c){"use strict";c("36a2")}}]);
//# sourceMappingURL=Liquidity.f1d0e653.js.map